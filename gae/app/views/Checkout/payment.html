#{extends 'main.html' /}
#{set title:'Йога для будущих мам - Способ Оплаты' /}

#{nav payment:'active', cart:'disabled', checkout:'disabled'/}

<h2>Способ оплаты</h2>

<p>Курс можно оплатить следующими способами:</p>

<form action="@{setPayment()}" method="post" enctype="multipart/form-data" id="payment">
  
#{ifError 'gateway'}
<div class="warning">#{error 'gateway'/}</div>
#{/ifError}</td>

<div id="accordion">
  #{list items:gateways.keySet(), as:'category'}
  <h3><a name="${category}">&{'pgwc_' + category}</strong></a></h3>
  <div class="checkout-content">
    #{list items:gateways[category], as:'gateway'}
      <div class="pgw">
      <input id="radio-${category}-${gateway.name}" type="radio" value="${gateway.name}" name="gateway">
      <label for="radio-${category}-${gateway.name}">&{'pgw_' + gateway.name}
        <img alt="подсказка" src="@{'/public/images/help.gif'}" class="tip_help" title="&{'pgw_' + gateway.name + '_tooltip'}">
        <div><img alt="картинка" src="@{'/public/images'}/${gateway.name}.png"></div>
      </label>
      </div>
    #{/list}
  </div>
  #{/list}
</div>

<div class="checkout-content">
  <div class="buttons">
    <a onclick="$('#payment').submit();" class="button"><span>&{'button_continue'}</span></a>
  </div>
</div>

</form>

#{set 'moreStyles'}
<link media="screen" href="@{'/public/stylesheets/customInput.css'}" type="text/css" rel="stylesheet">
<link media="screen" href="@{'/public/stylesheets/tipTip.css'}" type="text/css" rel="stylesheet">
<style type="text/css">
.tip_help {
    cursor: pointer;
    margin-bottom: -3px;
}
</style>
#{/set}
#{set 'moreScripts'}
<script src="@{'/public/javascripts/jquery/customInput.jquery.js'}" type="text/javascript"></script>
<script src="@{'/public/javascripts/jquery/jquery.tipTip.minified.js'}" type="text/javascript"></script>
<script type="text/javascript"><!--
$(function() {
    $("#accordion").accordion({autoHeight:false, navigation:true, navigationFilter: function() {
      return this.name == '${cart.shipment}';
    } });
    $('input').customInput();
    $(".tip_help").tipTip({maxWidth: "250px", edgeOffset: 3});
});
--></script>
#{/set}